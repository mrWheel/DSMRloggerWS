<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Willem Aandewiel">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Data Upload Tool - DSMRloggerWS</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Data Upload Tool";
    var mkdocs_page_input_path = "installatieDataUploadTool.md";
    var mkdocs_page_url = "/index.php/2018/08/28/slimme-meter-uitlezer/installatieDataUploadTool/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> DSMRloggerWS</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Documentatie DSMRloggerWS</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../introductie/">Introductie</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Voorbereiding</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../installatieArduinoIDE/">ArduinoIDE</a>
                </li>
                <li class="">
                    
    <a class="" href="../installatieESP8266core/">ESP8266 Core</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Data Upload Tool</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#installatie-data-upload-tool">Installatie Data Upload Tool</a></li>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../installatieBibliotheken/">Installeren Bibliotheken</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Firmware</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../benodigdeBibliotheken/">Benodigd Bibliotheken</a>
                </li>
                <li class="">
                    
    <a class="" href="../clonenFirmware/">DSMRloggerWS firmware</a>
                </li>
                <li class="">
                    
    <a class="" href="../uploadFirmware_V4/">Firmware Flashen naar DSMR-logger v4</a>
                </li>
                <li class="">
                    
    <a class="" href="../uploadDataMap_V4/">Data Flashen naar DSMR-logger v4</a>
                </li>
                <li class="">
                    
    <a class="" href="../uploadFirmware_V3/">Firmware Flashen naar DSMR-logger v3</a>
                </li>
                <li class="">
                    
    <a class="" href="../uploadDataMap_V3/">Data Flashen naar DSMR-logger v3</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Hardware</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../hardware_V4/">DSMR-logger v4</a>
                </li>
                <li class="">
                    
    <a class="" href="../hardware_V4_Programmer/">Programmer DSMR-logger v4</a>
                </li>
                <li class="">
                    
    <a class="" href="../hardware_V3/">DSMR-logger v3</a>
                </li>
                <li class="">
                    
    <a class="" href="../hardware_V3_Programmer/">Programmer DSMR-logger v3</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Overigen</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../Opstarten/">(eerste keer) Opstarten</a>
                </li>
                <li class="">
                    
    <a class="" href="../restAPI/">restAPI</a>
                </li>
                <li class="">
                    
    <a class="" href="../verschillenESP8266/">Verschillen ESP8266 modules</a>
                </li>
                <li class="">
                    
    <a class="" href="../uploadOTA-bug/">Over The Air (bug?)</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../MITlicense/">License</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">DSMRloggerWS</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Voorbereiding &raquo;</li>
        
      
    
    <li>Data Upload Tool</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="installatie-data-upload-tool">Installatie Data Upload Tool</h2>
<p>Eén van de mooie eigenschappen van de ESP8266 is dat er flash geheugen in zit. 
Flash geheugen is geheugen dat zijn inhoud ook zonder spanning behoud. 
Vergelijk het met een SD-kaart. Het flash geheugen is, afhankelijk van het 
bordje, 512kB tot 16MB(!) groot. Een deel van dit flash geheugen wordt gebruikt 
om jouw programma in op te slaan. Wat er over blijft kan als bestand-systeem 
worden ingericht (het zgn. <em>SPI Flash File Systeem</em> ‑SPIFFS‑).</p>
<p>Je kunt in je programma dit bestand-systeem niet alleen gebruiken om 
(bijvoorbeeld meet-) gegevens maar ook om de inhoud van
een web-pagina (<code>index.html</code>) of een configuratie-bestand in op te slaan.</p>
<p>Een <em>index.html</em> maakt dan natuurlijk onderdeel uit van je programma maar deze
ontwikkel je niet met de ArduinoIDE.</p>
<p>Om het <code>SPI Flash File Systeem</code> voor dit soort bestanden te 
kunnen gebruiken moet je een <code>plug-in</code> in je Arduino Projecten map installeren. </p>
<p>De plug-in haal je
<a href="https://github.com/esp8266/arduino-esp8266fs-plugin/releases/tag/0.4.0/" target="_blank">
hier</a>
vandaan. Ga naar deze github pagina en klik op rood omcirkelde bestand ..</p>
<p><img alt="ESP8266FSDownload.png" src="../img/ESP8266FSDownload.png" /></p>
<p>Download vervolgens het <code>ESP8266FS-0.4.0.zip</code> bestand door er op te klikken.    </p>
<p><img alt="ESP8266FS_Save.png" src="../img/ESP8266FS_Save.png" /></p>
<p>En bewaar het bestand op een plek die voor jou handig is.</p>
<p>Ga nu naar je <code>Sketchbook Location</code> map en maak daarin een nieuwe map <code>tools</code> aan (als 
deze nog niet bestaat). Pak het zojuist ge-download-de zip bestand uit in deze 
<code>tools</code> map. Er wordt nu een aantal nieuwe mappen aangemaakt waar de plug-in wordt 
neergezet. Het pad ziet er ongeveer zo uit:</p>
<p><code>&lt;sketchbook location&gt;/tools/ESP8266FS/tool/esp8266fs.jar</code></p>
<p><center><img alt="Tools_Tree.png" src="../img/Tools_Tree.png" /></center></p>
<p>Start de Arduino IDE opnieuw op.</p>
<p>Op de menu-balk zie je nu onder [<code>Tools</code>] een nieuwe optie: 
<code>ESP8266 Sketch Data Upload</code>.</p>
<p><center><img alt="ESP8266DownloadTool.png" src="../img/ESP8266DownloadTool.png" /></center></p>
<p>Als er onder de map van je Sketch óók een map <code>data</code> staat, dan kun je de 
bestanden die in deze <code>data</code>-map staan met het <code>Sketch Data Upload</code> tool naar
het SPIFFS van de ESP8266 flashen.</p>
<p>De bestands-tree van de DSMRloggerWS firmware ziet er zo uit:
<center><img alt="DSMRloggerV4_Tree.png" src="../img/DSMRloggerV4_Tree.png" /></center></p>
<p>Het <code>ESP8266 Sketch Data Upload</code> tool zal alle bestanden dit in de <code>data</code>-map zitten
naar het SPIFFS van de aangesloten ESP8266 uploaden.</p>
<p>Ga naar: [<code>tools</code>] -&gt; [<code>ESP8266 Sketch Data Upload</code>] </p>
<p>Randvoorwaarde is natuurlijk dat het SPIFFS groot genoeg is!
In de selectie van je board moet je, 
behalve het juiste type board ook aangeven hoeveel ruimte van je Flash geheugen je 
wilt gebruiken voor het bestand-systeem (vóórdat je je programma naar de ESP8266 
upload!). </p>
<p><center><img alt="Board_Selectie.png" src="../img/Board_Selectie.png" /></center></p>
<p>Normaliter zou je dit zo groot mogelijk willen maken, maar als je 
“Over The Air” programma’s op je ESP8266 wilt zetten (dus zonder fysieke verbinding 
maar via WiFi) dan moet je er rekening mee houden dat je twee maal de grootte van je 
programma nodig hebt om dit te kunnen doen. Wat er overblijft kun je als 
bestand-systeem gebruiken.</p>
<p><br></p>
<hr />
<p><center  style="font-size: 70%">[ChartFinancieel]</center><br>
<img alt="ChartFinLine.png" src="../img/ChartFinLine.png" /></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../installatieBibliotheken/" class="btn btn-neutral float-right" title="Installeren Bibliotheken">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../installatieESP8266core/" class="btn btn-neutral" title="ESP8266 Core"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>copyright &copy; 2019 <a href="https://willem.aandewiel.nl/index.php/2019/04/09/dsmr-logger-v4-slimme-meter-uitlezer/">Willem Aandewiel</a></p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../installatieESP8266core/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../installatieBibliotheken/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
